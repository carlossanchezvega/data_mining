<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>FARS</title>
  <meta name="description" content="FARS">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="FARS" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="FARS" />
  
  
  

<meta name="author" content="Grupo A: Carlos Sánchez Vega, Raúl Salazar de Torres, Jorge Fernández Hernández, Mónica Alexa">



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="estudio-de-valores-faltantes.html">
<link rel="next" href="train-y-test.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="introduccion.html"><a href="introduccion.html"><i class="fa fa-check"></i><b>1</b> Introduccion</a><ul>
<li class="chapter" data-level="1.1" data-path="introduccion.html"><a href="introduccion.html#conjunto-de-datos"><i class="fa fa-check"></i><b>1.1</b> Conjunto de datos</a></li>
<li class="chapter" data-level="1.2" data-path="introduccion.html"><a href="introduccion.html#documentacion-consultada"><i class="fa fa-check"></i><b>1.2</b> Documentacion consultada</a></li>
<li class="chapter" data-level="1.3" data-path="introduccion.html"><a href="introduccion.html#objetivos"><i class="fa fa-check"></i><b>1.3</b> Objetivos</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="analisis-del-dataset.html"><a href="analisis-del-dataset.html"><i class="fa fa-check"></i><b>2</b> Análisis del dataset</a><ul>
<li class="chapter" data-level="2.1" data-path="analisis-del-dataset.html"><a href="analisis-del-dataset.html#descripcion-y-significado-de-las-variables"><i class="fa fa-check"></i><b>2.1</b> Descripción y significado de las variables:</a></li>
<li class="chapter" data-level="2.2" data-path="analisis-del-dataset.html"><a href="analisis-del-dataset.html#preparacion-de-las-variables"><i class="fa fa-check"></i><b>2.2</b> Preparación de las variables</a></li>
<li class="chapter" data-level="2.3" data-path="analisis-del-dataset.html"><a href="analisis-del-dataset.html#analisis-individual-de-variables"><i class="fa fa-check"></i><b>2.3</b> Análisis individual de variables</a><ul>
<li class="chapter" data-level="2.3.1" data-path="analisis-del-dataset.html"><a href="analisis-del-dataset.html#analisis-case_state"><i class="fa fa-check"></i><b>2.3.1</b> Análisis <code>CASE_STATE</code></a></li>
<li class="chapter" data-level="2.3.2" data-path="analisis-del-dataset.html"><a href="analisis-del-dataset.html#analisis-age"><i class="fa fa-check"></i><b>2.3.2</b> Análisis <code>AGE</code></a></li>
<li class="chapter" data-level="2.3.3" data-path="analisis-del-dataset.html"><a href="analisis-del-dataset.html#analisis-sex"><i class="fa fa-check"></i><b>2.3.3</b> Análisis <code>SEX</code></a></li>
<li class="chapter" data-level="2.3.4" data-path="analisis-del-dataset.html"><a href="analisis-del-dataset.html#analisis-person_type"><i class="fa fa-check"></i><b>2.3.4</b> Análisis <code>PERSON_TYPE</code></a></li>
<li class="chapter" data-level="2.3.5" data-path="analisis-del-dataset.html"><a href="analisis-del-dataset.html#analisis-seating_position"><i class="fa fa-check"></i><b>2.3.5</b> Análisis <code>SEATING_POSITION</code></a></li>
<li class="chapter" data-level="2.3.6" data-path="analisis-del-dataset.html"><a href="analisis-del-dataset.html#analisis-air_bag_availability.deployment"><i class="fa fa-check"></i><b>2.3.6</b> Análisis <code>AIR_BAG_AVAILABILITY.DEPLOYMENT</code></a></li>
<li class="chapter" data-level="2.3.7" data-path="analisis-del-dataset.html"><a href="analisis-del-dataset.html#analisis-restraint_system.use"><i class="fa fa-check"></i><b>2.3.7</b> Análisis <code>RESTRAINT_SYSTEM.USE</code></a></li>
<li class="chapter" data-level="2.3.8" data-path="analisis-del-dataset.html"><a href="analisis-del-dataset.html#analisis-ejection"><i class="fa fa-check"></i><b>2.3.8</b> Análisis <code>EJECTION</code></a></li>
<li class="chapter" data-level="2.3.9" data-path="analisis-del-dataset.html"><a href="analisis-del-dataset.html#analisis-ejection_path"><i class="fa fa-check"></i><b>2.3.9</b> Análisis <code>EJECTION_PATH</code></a></li>
<li class="chapter" data-level="2.3.10" data-path="analisis-del-dataset.html"><a href="analisis-del-dataset.html#analisis-extrication"><i class="fa fa-check"></i><b>2.3.10</b> Análisis <code>EXTRICATION</code></a></li>
<li class="chapter" data-level="2.3.11" data-path="analisis-del-dataset.html"><a href="analisis-del-dataset.html#analisis-non_motorist_location"><i class="fa fa-check"></i><b>2.3.11</b> Análisis <code>NON_MOTORIST_LOCATION</code></a></li>
<li class="chapter" data-level="2.3.12" data-path="analisis-del-dataset.html"><a href="analisis-del-dataset.html#analisis-police_reported_alcohol_involvement"><i class="fa fa-check"></i><b>2.3.12</b> Análisis <code>POLICE_REPORTED_ALCOHOL_INVOLVEMENT</code></a></li>
<li class="chapter" data-level="2.3.13" data-path="analisis-del-dataset.html"><a href="analisis-del-dataset.html#analisis-method_alcohol_determination"><i class="fa fa-check"></i><b>2.3.13</b> Análisis <code>METHOD_ALCOHOL_DETERMINATION</code></a></li>
<li class="chapter" data-level="2.3.14" data-path="analisis-del-dataset.html"><a href="analisis-del-dataset.html#analisis-alcohol_test_type"><i class="fa fa-check"></i><b>2.3.14</b> Análisis <code>ALCOHOL_TEST_TYPE</code></a></li>
<li class="chapter" data-level="2.3.15" data-path="analisis-del-dataset.html"><a href="analisis-del-dataset.html#analisis-alcohol_test_result"><i class="fa fa-check"></i><b>2.3.15</b> Análisis <code>ALCOHOL_TEST_RESULT</code></a></li>
<li class="chapter" data-level="2.3.16" data-path="analisis-del-dataset.html"><a href="analisis-del-dataset.html#analisis-police_reported_drug_involvement"><i class="fa fa-check"></i><b>2.3.16</b> Análisis <code>POLICE_REPORTED_DRUG_INVOLVEMENT</code></a></li>
<li class="chapter" data-level="2.3.17" data-path="analisis-del-dataset.html"><a href="analisis-del-dataset.html#analisis-method_of_drug_determination"><i class="fa fa-check"></i><b>2.3.17</b> Análisis <code>METHOD_OF_DRUG_DETERMINATION</code></a></li>
<li class="chapter" data-level="2.3.18" data-path="analisis-del-dataset.html"><a href="analisis-del-dataset.html#analisis-drug_test_type"><i class="fa fa-check"></i><b>2.3.18</b> Análisis <code>DRUG_TEST_TYPE</code></a></li>
<li class="chapter" data-level="2.3.19" data-path="analisis-del-dataset.html"><a href="analisis-del-dataset.html#analisis-drug_test_results_.1_of_3."><i class="fa fa-check"></i><b>2.3.19</b> Análisis <code>DRUG_TEST_RESULTS_.1_of_3.</code></a></li>
<li class="chapter" data-level="2.3.20" data-path="analisis-del-dataset.html"><a href="analisis-del-dataset.html#analisis-drug_test_type_.2_of_3."><i class="fa fa-check"></i><b>2.3.20</b> Análisis <code>DRUG_TEST_TYPE_.2_of_3.</code></a></li>
<li class="chapter" data-level="2.3.21" data-path="analisis-del-dataset.html"><a href="analisis-del-dataset.html#analisis-drug_test_results_.2_of_3."><i class="fa fa-check"></i><b>2.3.21</b> Análisis <code>DRUG_TEST_RESULTS_.2_of_3.</code></a></li>
<li class="chapter" data-level="2.3.22" data-path="analisis-del-dataset.html"><a href="analisis-del-dataset.html#analisis-drug_test_type_.3_of_3."><i class="fa fa-check"></i><b>2.3.22</b> Análisis <code>DRUG_TEST_TYPE_.3_of_3.</code></a></li>
<li class="chapter" data-level="2.3.23" data-path="analisis-del-dataset.html"><a href="analisis-del-dataset.html#analisis-drug_test_results_.3_of_3."><i class="fa fa-check"></i><b>2.3.23</b> Análisis <code>DRUG_TEST_RESULTS_.3_of_3.</code></a></li>
<li class="chapter" data-level="2.3.24" data-path="analisis-del-dataset.html"><a href="analisis-del-dataset.html#analisis-hispanic_origin"><i class="fa fa-check"></i><b>2.3.24</b> Análisis <code>HISPANIC_ORIGIN</code></a></li>
<li class="chapter" data-level="2.3.25" data-path="analisis-del-dataset.html"><a href="analisis-del-dataset.html#analisis-taken_to_hospital"><i class="fa fa-check"></i><b>2.3.25</b> Análisis <code>TAKEN_TO_HOSPITAL</code></a></li>
<li class="chapter" data-level="2.3.26" data-path="analisis-del-dataset.html"><a href="analisis-del-dataset.html#analisis-related_factor_.1."><i class="fa fa-check"></i><b>2.3.26</b> Análisis <code>RELATED_FACTOR_.1.</code></a></li>
<li class="chapter" data-level="2.3.27" data-path="analisis-del-dataset.html"><a href="analisis-del-dataset.html#analisis-related_factor_.2."><i class="fa fa-check"></i><b>2.3.27</b> Análisis <code>RELATED_FACTOR_.2.</code></a></li>
<li class="chapter" data-level="2.3.28" data-path="analisis-del-dataset.html"><a href="analisis-del-dataset.html#analisis-related_factor_.3."><i class="fa fa-check"></i><b>2.3.28</b> Análisis <code>RELATED_FACTOR_.3.</code></a></li>
<li class="chapter" data-level="2.3.29" data-path="analisis-del-dataset.html"><a href="analisis-del-dataset.html#analisis-race"><i class="fa fa-check"></i><b>2.3.29</b> Análisis <code>RACE</code></a></li>
<li class="chapter" data-level="2.3.30" data-path="analisis-del-dataset.html"><a href="analisis-del-dataset.html#analisis-injury_severity-variable-respuesta"><i class="fa fa-check"></i><b>2.3.30</b> Análisis <code>INJURY_SEVERITY</code>: variable respuesta</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="estudio-de-valores-faltantes.html"><a href="estudio-de-valores-faltantes.html"><i class="fa fa-check"></i><b>3</b> Estudio de valores faltantes</a></li>
<li class="chapter" data-level="4" data-path="seleccion-del-dataframe-variables-de-interes.html"><a href="seleccion-del-dataframe-variables-de-interes.html"><i class="fa fa-check"></i><b>4</b> Selección del dataframe - variables de interés</a></li>
<li class="chapter" data-level="5" data-path="train-y-test.html"><a href="train-y-test.html"><i class="fa fa-check"></i><b>5</b> Train y Test</a></li>
<li class="chapter" data-level="6" data-path="modelos.html"><a href="modelos.html"><i class="fa fa-check"></i><b>6</b> Modelos</a><ul>
<li class="chapter" data-level="6.1" data-path="modelos.html"><a href="modelos.html#modelo-de-regresion-logistica-con-las-variables-representativas"><i class="fa fa-check"></i><b>6.1</b> Modelo de regresión logistica (con las variables representativas)</a><ul>
<li class="chapter" data-level="6.1.1" data-path="modelos.html"><a href="modelos.html#curva-roc"><i class="fa fa-check"></i><b>6.1.1</b> Curva ROC</a></li>
<li class="chapter" data-level="6.1.2" data-path="modelos.html"><a href="modelos.html#regresion-logitica-para-cada-uno-de-los-estados"><i class="fa fa-check"></i><b>6.1.2</b> Regresión logítica para cada uno de los estados</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="modelos.html"><a href="modelos.html#arbol-de-decision"><i class="fa fa-check"></i><b>6.2</b> Árbol de decisión</a></li>
<li class="chapter" data-level="6.3" data-path="modelos.html"><a href="modelos.html#random-forest"><i class="fa fa-check"></i><b>6.3</b> Random forest</a><ul>
<li class="chapter" data-level="6.3.1" data-path="modelos.html"><a href="modelos.html#preparacion-de-datos"><i class="fa fa-check"></i><b>6.3.1</b> Preparación de datos</a></li>
<li class="chapter" data-level="6.3.2" data-path="modelos.html"><a href="modelos.html#ajuste-final"><i class="fa fa-check"></i><b>6.3.2</b> Ajuste final</a></li>
<li class="chapter" data-level="6.3.3" data-path="modelos.html"><a href="modelos.html#curva-roc-1"><i class="fa fa-check"></i><b>6.3.3</b> Curva ROC</a></li>
<li class="chapter" data-level="6.3.4" data-path="modelos.html"><a href="modelos.html#comparativa-de-resultados-con-el-conjunto-de-test"><i class="fa fa-check"></i><b>6.3.4</b> Comparativa de resultados con el conjunto de test</a></li>
<li class="chapter" data-level="6.3.5" data-path="modelos.html"><a href="modelos.html#mostramos-la-fraccion-de-vivos-con-respecto-a-los-muertos"><i class="fa fa-check"></i><b>6.3.5</b> Mostramos la fracción de vivos con respecto a los muertos</a></li>
<li class="chapter" data-level="6.3.6" data-path="modelos.html"><a href="modelos.html#libreria-caret"><i class="fa fa-check"></i><b>6.3.6</b> Libreria: caret</a></li>
<li class="chapter" data-level="6.3.7" data-path="modelos.html"><a href="modelos.html#predictores-mas-influyentes"><i class="fa fa-check"></i><b>6.3.7</b> Predictores más influyentes</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="modelos.html"><a href="modelos.html#gradient-boosting-estocastico"><i class="fa fa-check"></i><b>6.4</b> Gradient Boosting estocástico</a><ul>
<li class="chapter" data-level="6.4.1" data-path="modelos.html"><a href="modelos.html#estimacion-del-parametro-learning-rate-shrinkage"><i class="fa fa-check"></i><b>6.4.1</b> Estimación del parametro learning rate (shrinkage)</a></li>
<li class="chapter" data-level="6.4.2" data-path="modelos.html"><a href="modelos.html#estimacion-del-parametro-de-profundidad-del-arbol"><i class="fa fa-check"></i><b>6.4.2</b> Estimación del parametro de profundidad del árbol</a></li>
<li class="chapter" data-level="6.4.3" data-path="modelos.html"><a href="modelos.html#estimacion-del-numero-minimo-de-observaciones-por-nodo"><i class="fa fa-check"></i><b>6.4.3</b> Estimación del número minimo de observaciones por nodo</a></li>
<li class="chapter" data-level="6.4.4" data-path="modelos.html"><a href="modelos.html#estimacion-del-numero-de-arbol-que-debe-tener-el-conjunto"><i class="fa fa-check"></i><b>6.4.4</b> Estimación del número de árbol que debe tener el conjunto</a></li>
<li class="chapter" data-level="6.4.5" data-path="modelos.html"><a href="modelos.html#modelo-final-con-los-hiperparametros-optimos"><i class="fa fa-check"></i><b>6.4.5</b> Módelo final con los hiperparámetros optimos</a></li>
<li class="chapter" data-level="6.4.6" data-path="modelos.html"><a href="modelos.html#comparacion-con-el-conjunto-de-test"><i class="fa fa-check"></i><b>6.4.6</b> Comparación con el conjunto de test</a></li>
<li class="chapter" data-level="6.4.7" data-path="modelos.html"><a href="modelos.html#curva-roc-3"><i class="fa fa-check"></i><b>6.4.7</b> Curva ROC</a></li>
<li class="chapter" data-level="6.4.8" data-path="modelos.html"><a href="modelos.html#busqueda-de-hiperparametros-con-caret"><i class="fa fa-check"></i><b>6.4.8</b> Busqueda de hiperparametros con Caret</a></li>
<li class="chapter" data-level="6.4.9" data-path="modelos.html"><a href="modelos.html#modelo-final-con-los-hiperparametros-optimos-segun-caret"><i class="fa fa-check"></i><b>6.4.9</b> Módelo final con los hiperparámetros optimos según CARET</a></li>
<li class="chapter" data-level="6.4.10" data-path="modelos.html"><a href="modelos.html#comparacion-con-el-conjunto-de-test-segun-caret"><i class="fa fa-check"></i><b>6.4.10</b> Comparación con el conjunto de test según CARET</a></li>
<li class="chapter" data-level="6.4.11" data-path="modelos.html"><a href="modelos.html#curva-roc-4"><i class="fa fa-check"></i><b>6.4.11</b> Curva ROC</a></li>
<li class="chapter" data-level="6.4.12" data-path="modelos.html"><a href="modelos.html#evaluacion-del-modelo"><i class="fa fa-check"></i><b>6.4.12</b> Evaluación del modelo</a></li>
<li class="chapter" data-level="6.4.13" data-path="modelos.html"><a href="modelos.html#obtencion-de-variables-mas-significativas"><i class="fa fa-check"></i><b>6.4.13</b> Obtención de variables más significativas</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="modelos.html"><a href="modelos.html#analisis-cluster"><i class="fa fa-check"></i><b>6.5</b> Análisis cluster</a><ul>
<li class="chapter" data-level="6.5.1" data-path="modelos.html"><a href="modelos.html#analisis-cluster-1"><i class="fa fa-check"></i><b>6.5.1</b> Análisis cluster 1</a></li>
<li class="chapter" data-level="6.5.2" data-path="modelos.html"><a href="modelos.html#analisis-cluster-2"><i class="fa fa-check"></i><b>6.5.2</b> Análisis cluster 2</a></li>
<li class="chapter" data-level="6.5.3" data-path="modelos.html"><a href="modelos.html#analisis-cluster-3"><i class="fa fa-check"></i><b>6.5.3</b> Analisis cluster 3</a></li>
<li class="chapter" data-level="6.5.4" data-path="modelos.html"><a href="modelos.html#analisis-cluster-4"><i class="fa fa-check"></i><b>6.5.4</b> Analisis cluster 4</a></li>
<li class="chapter" data-level="6.5.5" data-path="modelos.html"><a href="modelos.html#transformacion-a-problema-binario-para-calculo-de-kmeans"><i class="fa fa-check"></i><b>6.5.5</b> Transformación a problema binario para calculo de kmeans</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="modelos.html"><a href="modelos.html#naive-bayes"><i class="fa fa-check"></i><b>6.6</b> NAIVE-BAYES</a><ul>
<li class="chapter" data-level="6.6.1" data-path="modelos.html"><a href="modelos.html#ejecucion-del-modelo"><i class="fa fa-check"></i><b>6.6.1</b> Ejecución del modelo</a></li>
<li class="chapter" data-level="6.6.2" data-path="modelos.html"><a href="modelos.html#evaluacion-del-modelo-1"><i class="fa fa-check"></i><b>6.6.2</b> Evaluación del modelo</a></li>
</ul></li>
<li class="chapter" data-level="6.7" data-path="modelos.html"><a href="modelos.html#svm-lineal"><i class="fa fa-check"></i><b>6.7</b> SVM Lineal</a><ul>
<li class="chapter" data-level="6.7.1" data-path="modelos.html"><a href="modelos.html#evaluacion-del-modelo-2"><i class="fa fa-check"></i><b>6.7.1</b> Evaluación del modelo</a></li>
<li class="chapter" data-level="6.7.2" data-path="modelos.html"><a href="modelos.html#modelo-svm-tuneado"><i class="fa fa-check"></i><b>6.7.2</b> Modelo svm tuneado</a></li>
</ul></li>
<li class="chapter" data-level="6.8" data-path="modelos.html"><a href="modelos.html#svm-no-lineal"><i class="fa fa-check"></i><b>6.8</b> SVM NO Lineal</a><ul>
<li class="chapter" data-level="6.8.1" data-path="modelos.html"><a href="modelos.html#libreria-empleada-caret"><i class="fa fa-check"></i><b>6.8.1</b> Libreria empleada: Caret</a></li>
<li class="chapter" data-level="6.8.2" data-path="modelos.html"><a href="modelos.html#libreria-empleada-kernlab"><i class="fa fa-check"></i><b>6.8.2</b> Libreria empleada: kernlab</a></li>
</ul></li>
<li class="chapter" data-level="6.9" data-path="modelos.html"><a href="modelos.html#redes-neuronales"><i class="fa fa-check"></i><b>6.9</b> Redes Neuronales</a><ul>
<li class="chapter" data-level="6.9.1" data-path="modelos.html"><a href="modelos.html#preparacion-del-modelo"><i class="fa fa-check"></i><b>6.9.1</b> Preparación del modelo</a></li>
<li class="chapter" data-level="6.9.2" data-path="modelos.html"><a href="modelos.html#ejecucion-del-modelo-1"><i class="fa fa-check"></i><b>6.9.2</b> Ejecución del modelo</a></li>
<li class="chapter" data-level="6.9.3" data-path="modelos.html"><a href="modelos.html#evaluacion-del-modelo-5"><i class="fa fa-check"></i><b>6.9.3</b> Evaluación del modelo</a></li>
</ul></li>
<li class="chapter" data-level="6.10" data-path="modelos.html"><a href="modelos.html#deep-learning"><i class="fa fa-check"></i><b>6.10</b> Deep Learning</a><ul>
<li class="chapter" data-level="6.10.1" data-path="modelos.html"><a href="modelos.html#preparacion-de-datos-1"><i class="fa fa-check"></i><b>6.10.1</b> Preparación de datos</a></li>
<li class="chapter" data-level="6.10.2" data-path="modelos.html"><a href="modelos.html#preparacion-de-la-red-profunda"><i class="fa fa-check"></i><b>6.10.2</b> Preparación de la red profunda</a></li>
<li class="chapter" data-level="6.10.3" data-path="modelos.html"><a href="modelos.html#escalamos-datos"><i class="fa fa-check"></i><b>6.10.3</b> Escalamos datos</a></li>
<li class="chapter" data-level="6.10.4" data-path="modelos.html"><a href="modelos.html#ajustamos-el-modelo-construidos-a-nuestros-datos"><i class="fa fa-check"></i><b>6.10.4</b> Ajustamos el modelo construidos a nuestros datos</a></li>
<li class="chapter" data-level="6.10.5" data-path="modelos.html"><a href="modelos.html#evaluacion-del-modelo-6"><i class="fa fa-check"></i><b>6.10.5</b> Evaluación del modelo</a></li>
</ul></li>
<li class="chapter" data-level="6.11" data-path="modelos.html"><a href="modelos.html#evaluacion-conjunta-de-todos-los-modelos"><i class="fa fa-check"></i><b>6.11</b> Evaluacion conjunta de todos los modelos</a><ul>
<li class="chapter" data-level="6.11.1" data-path="modelos.html"><a href="modelos.html#curvas-ro"><i class="fa fa-check"></i><b>6.11.1</b> Curvas RO</a></li>
<li class="chapter" data-level="6.11.2" data-path="modelos.html"><a href="modelos.html#resultados-f-score"><i class="fa fa-check"></i><b>6.11.2</b> Resultados F-SCORE</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="debates-y-anotaciones.html"><a href="debates-y-anotaciones.html"><i class="fa fa-check"></i><b>7</b> Debates y anotaciones</a></li>
<li class="chapter" data-level="8" data-path="conclusiones.html"><a href="conclusiones.html"><i class="fa fa-check"></i><b>8</b> Conclusiones</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">FARS</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="seleccion-del-dataframe---variables-de-interes" class="section level1">
<h1><span class="header-section-number">4</span> Selección del dataframe - variables de interés</h1>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">summary</span>(df)</code></pre></div>
<pre><code>##           CASE_STATE         AGE           SEX        PERSON_TYPE   
##  California    :10151   Min.   : 0.0   Male  :65740   Driver:57480  
##  Texas         : 9231   1st Qu.:20.0   Female:33573   Other :43486  
##  Florida       : 7738   Median :32.0   NA&#39;s  : 1655   NA&#39;s  :    2  
##  Georgia       : 4030   Mean   :35.5                                
##  New_York      : 3765   3rd Qu.:48.0                                
##  North_Carolina: 3607   Max.   :97.0                                
##  (Other)       :62446   NA&#39;s   :2552                                
##  SEATING_POSITION RESTRAINT_SYSTEM.USE AIR_BAG_AVAILABILITY.DEPLOYMENT
##  FL     :57331    No   :41462          NAv    :58738                  
##  FR     :18779    Yes  :43286          D_F    :15136                  
##  S_T    :13214    Other: 7203          Av_nD  : 9455                  
##  NMot   : 6442    NA&#39;s : 9017          A_U    : 7555                  
##  CA     : 2143                         NM     : 6442                  
##  (Other): 1291                         (Other):  382                  
##  NA&#39;s   : 1768                         NA&#39;s   : 3260                  
##               EJECTION     EJECTION_PATH           EXTRICATION   
##  Not_Ejected      :87475   NoAp   :87477   Not_Extricated:89933  
##  Totally_Ejected  :10410   SideW  : 1522   Extricated    : 9826  
##  Partially_Ejected: 2191   SideD  :  701   NA&#39;s          : 1209  
##  NA&#39;s             :  892   Other  :  407                         
##                            BackW  :  327                         
##                            (Other):  527                         
##                            NA&#39;s   :10007                         
##  NON_MOTORIST_LOCATION POLICE_REPORTED_ALCOHOL_INVOLVEMENT
##  NoAp:94526            NO  :34810                         
##  NI  : 5021            YES : 9911                         
##  I   : 1356            NA&#39;s:56247                         
##  NA&#39;s:   65                                               
##                                                           
##                                                           
##                                                           
##  METHOD_ALCOHOL_DETERMINATION ALCOHOL_TEST_TYPE ALCOHOL_TEST_RESULT
##  ET     : 7335                NoT :55405        Length:100968      
##  OBS    : 7082                WB  :33550        Class :character   
##  OTHER  : 1238                BB  : 1447        Mode  :character   
##  PBT    :  721                U   :  231                           
##  BV     :  359                V   :  144                           
##  (Other):   25                BPS :   92                           
##  NA&#39;s   :84208                NA&#39;s:10099                           
##  POLICE.REPORTED_DRUG_INVOLVEMENT METHOD_OF_DRUG_DETERMINATION
##  NoRep:74725                      NoRep:94794                 
##  No   :18335                      Other: 2761                 
##  Yes  : 1626                      ET   : 2675                 
##  NA&#39;s : 6282                      B    :  621                 
##                                   DRT  :  117                 
##                                                               
##                                                               
##  DRUG_TEST_TYPE DRUG_TEST_RESULTS_.1_of_3. DRUG_TEST_TYPE_.2_of_3.
##  notest:    0   Length:100968              notest:    0           
##  Btest :16153   Class :character           Btest : 1743           
##  Utest : 1972   Mode  :character           Utest :  353           
##  Xtest : 1544                              BUtest:  213           
##  BUtest: 1422                              Xtest :  145           
##  NA&#39;s  :79877                              NA&#39;s  :98514           
##                                                                   
##  DRUG_TEST_RESULTS_.2_of_3. DRUG_TEST_TYPE_.3_of_3.
##  Min.   :  0.0              notest:    0           
##  1st Qu.:  0.0              Btest : 1068           
##  Median :  0.0              Utest :  117           
##  Mean   :100.1              BUtest:   84           
##  3rd Qu.:  0.0              Xtest :   57           
##  Max.   :999.0              NA&#39;s  :99642           
##                                                    
##  DRUG_TEST_RESULTS_.3_of_3.     HISPANIC_ORIGIN  TAKEN_TO_HOSPITAL
##  Min.   :  0.00             Non-Hispanic:21836   Yes :52355       
##  1st Qu.:  0.00             Hisp        : 1975   No  :46699       
##  Median :  0.00             NA&#39;s        :77157   NA&#39;s: 1914       
##  Mean   : 95.44                                                   
##  3rd Qu.:  0.00                                                   
##  Max.   :999.00                                                   
##                                                                   
##  RELATED_FACTOR_.1. RELATED_FACTOR_.2. RELATED_FACTOR_.3.    RACE      
##  NoAp   :96541      NoAp2  :99269      NoAp3  :100362     NoAp :58686  
##  Factor1: 1017      Factor2:  367      Factor3:   106     W    :19582  
##  NA&#39;s   : 3410      NA&#39;s   : 1332      NA&#39;s   :   500     B    : 3392  
##                                                           Other:  873  
##                                                           NA&#39;s :18435  
##                                                                        
##                                                                        
##  INJURY_SEVERITY        ALCOHOL_TEST_RESULT1 DRUG_TEST_RESULTS
##  Died    :42125   Negative_alcohol:19798     Negd:64072       
##  Survived:57643   Positive_alcohol:12066     Posd:30203       
##  NA&#39;s    : 1200   NA&#39;s            :69104     NA&#39;s: 6693       
##                                                               
##                                                               
##                                                               
##                                                               
##           factorC     
##  NoAp         :96541  
##  RelatedFactor:  315  
##  NA&#39;s         : 4112  
##                       
##                       
##                       
## </code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#Establecemos las variables finales que entrarán en train y test (incluye la columna factorC y excluye las tres RELATED_FACTOR y las variables de drogas y alcohol unificadas)</span>

df2 =<span class="st"> </span>df[<span class="kw">which</span>(<span class="op">!</span><span class="kw">is.na</span>(df<span class="op">$</span>SEX) <span class="op">&amp;</span><span class="st"> </span><span class="op">!</span><span class="kw">is.na</span>(df<span class="op">$</span>AGE) <span class="op">&amp;</span><span class="st"> </span><span class="op">!</span><span class="kw">is.na</span>(df<span class="op">$</span>INJURY_SEVERITY)) ,<span class="kw">c</span>(<span class="st">&quot;CASE_STATE&quot;</span>, <span class="st">&quot;AGE&quot;</span>,<span class="st">&quot;SEX&quot;</span>, <span class="st">&quot;PERSON_TYPE&quot;</span>, <span class="st">&quot;SEATING_POSITION&quot;</span>, <span class="st">&quot;RESTRAINT_SYSTEM.USE&quot;</span>, <span class="st">&quot;AIR_BAG_AVAILABILITY.DEPLOYMENT&quot;</span>, <span class="st">&quot;EJECTION&quot;</span>,<span class="st">&quot;EJECTION_PATH&quot;</span>, <span class="st">&quot;EXTRICATION&quot;</span>, <span class="st">&quot;NON_MOTORIST_LOCATION&quot;</span>, <span class="st">&quot;ALCOHOL_TEST_RESULT1&quot;</span>, <span class="st">&quot;DRUG_TEST_RESULTS&quot;</span>, <span class="st">&quot;TAKEN_TO_HOSPITAL&quot;</span>, <span class="st">&quot;factorC&quot;</span>, <span class="st">&quot;HISPANIC_ORIGIN&quot;</span>, <span class="st">&quot;RACE&quot;</span>, <span class="st">&quot;INJURY_SEVERITY&quot;</span>)]

<span class="kw">summary</span>(df2)</code></pre></div>
<pre><code>##           CASE_STATE         AGE            SEX        PERSON_TYPE   
##  California    : 9864   Min.   : 0.00   Male  :64859   Driver:56198  
##  Texas         : 9047   1st Qu.:20.00   Female:33166   Other :41825  
##  Florida       : 7558   Median :32.00                  NA&#39;s  :    2  
##  Georgia       : 3952   Mean   :35.52                                
##  New_York      : 3679   3rd Qu.:48.00                                
##  North_Carolina: 3565   Max.   :97.00                                
##  (Other)       :60360                                                
##  SEATING_POSITION RESTRAINT_SYSTEM.USE AIR_BAG_AVAILABILITY.DEPLOYMENT
##  FL     :56206    No   :40875          NAv    :57368                  
##  FR     :18287    Yes  :42775          D_F    :15015                  
##  S_T    :12878    Other: 7123          Av_nD  : 9340                  
##  NMot   : 6346    NA&#39;s : 7252          A_U    : 7446                  
##  CA     : 1926                         NM     : 6346                  
##  (Other): 1250                         (Other):  372                  
##  NA&#39;s   : 1132                         NA&#39;s   : 2138                  
##               EJECTION     EJECTION_PATH           EXTRICATION   
##  Not_Ejected      :84942   NoAp   :84944   Not_Extricated:87362  
##  Totally_Ejected  :10339   SideW  : 1517   Extricated    : 9784  
##  Partially_Ejected: 2186   SideD  :  699   NA&#39;s          :  879  
##  NA&#39;s             :  558   Other  :  400                         
##                            BackW  :  326                         
##                            (Other):  525                         
##                            NA&#39;s   : 9614                         
##  NON_MOTORIST_LOCATION       ALCOHOL_TEST_RESULT1 DRUG_TEST_RESULTS
##  NoAp:91679            Negative_alcohol:19738     Negd:61829       
##  NI  : 4957            Positive_alcohol:12015     Posd:29670       
##  I   : 1334            NA&#39;s            :66272     NA&#39;s: 6526       
##  NA&#39;s:   55                                                        
##                                                                    
##                                                                    
##                                                                    
##  TAKEN_TO_HOSPITAL          factorC          HISPANIC_ORIGIN 
##  Yes :51641        NoAp         :93754   Non-Hispanic:21804  
##  No  :45005        RelatedFactor:  309   Hisp        : 1966  
##  NA&#39;s: 1379        NA&#39;s         : 3962   NA&#39;s        :74255  
##                                                              
##                                                              
##                                                              
##                                                              
##     RACE       INJURY_SEVERITY 
##  NoAp :56111   Died    :41922  
##  W    :19552   Survived:56103  
##  B    : 3380                   
##  Other:  870                   
##  NA&#39;s :18112                   
##                                
## </code></pre>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="estudio-de-valores-faltantes.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="train-y-test.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
},
"search": false
});
});
</script>

</body>

</html>
